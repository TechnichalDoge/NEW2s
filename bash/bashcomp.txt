@name Console Screen
@inputs EGP:wirelink TextInput:string Input:number
@outputs Clear
@persist Lines:number TextLines:array
@trigger 

interval(1000/25)
if(first()){
    Lines = 10   
    #include "mapfunction"
}
if(EGP != nowirelink()){
EGP:egpDrawTopLeft(1)
local EGPSIZE = EGP:egpSize()
EGP:egpBox(0,vec2(0,0),EGPSIZE)
local BOTTOMTEXT = EGPSIZE[2]*0.1+EGPSIZE[2]*0.8
local BOTTOMTEXTSIZE = EGPSIZE[2]*0.1
EGP:egpBoxOutline(100,vec2(0,BOTTOMTEXT),vec2(EGPSIZE[1],BOTTOMTEXTSIZE))
for(I = Lines,0,-1){
    local Linestr = TextLines[I,string]
    EGP:egpText(I+1,"hi"+I:toString(),vec2(0,mapNum(I,Lines,0,0,BOTTOMTEXT-BOTTOMTEXTSIZE,1)))
}
if(Input & TextInput:length() != 0){
    TextLines:pushString(TextInput)    
    timer("clrk",20)
}
}
if(clk("clrk")){
    Clear = 1    
    timer("uclrk",20) 
}
if(clk("uclrk")){
    Clear = 0    
}

