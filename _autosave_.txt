@name mapfunction
#[
    Code from p5.js
    https://github.com/processing/p5.js/blob/master/src/math/calculation.js#L465
    Converted to E2 by Logica
    https://steamcommunity.com/id/GetLogical/
]#

function number map(Input:number, LowerBounds1:number, UpperBounds1:number, LowerBounds2:number, stop2, withinBounds) {
  p5._validateParameters('map', arguments);
  local Newval = (n - LowerBounds1) / (UpperBounds1 - LowerBounds1) * (stop2 - LowerBounds2) + LowerBounds2;
  if (!withinBounds) {
    return newval;
  }
  if (start2 < stop2) {
    return this.constrain(newval, start2, stop2);
  } else {
    return this.constrain(newval, stop2, start2);
  }
};
